ekf_filter_node:
  ros__parameters:

    frequency: 30.0
    sensor_timeout: 0.1
    two_d_mode: true

    publish_tf: false
    map_frame: mm_map
    odom_frame: mm_map
    base_link_frame: base_link
    world_frame: mm_map

    # =========================
    # Vision pose input
    # =========================
    pose0: /vision_pose/mm_map
    pose0_config: [true, true, false,
                   false, false, true,
                   false, false, false,
                   false, false, false,
                   false, false, false]
    pose0_differential: false
    pose0_relative: false
    pose0_queue_size: 10
    pose0_rejection_threshold: 2.0

    # =========================
    # Marvelmind pose input
    # =========================
    pose1: /marvelmind/pose
    pose1_config: [true, true, false,
                   false, false, true,
                   false, false, false,
                   false, false, false,
                   false, false, false]
    pose1_differential: false
    pose1_relative: false
    pose1_queue_size: 10
    pose1_rejection_threshold: 2.0

    # =========================
    # Process noise (important!)
    # =========================
    process_noise_covariance: [
      0.01, 0,    0,    0,    0,    0,
      0,    0.01, 0,    0,    0,    0,
      0,    0,    0.01, 0,    0,    0,
      0,    0,    0,    0.01, 0,    0,
      0,    0,    0,    0,    0.01, 0,
      0,    0,    0,    0,    0,    0.02
    ]